# Step 2.1: Create Supabase Project

**Part of:** PR 1.2 - Supabase Setup & Database Schema  
**Focus:** Initialize Supabase project and obtain credentials  
**Estimated Time:** 10 minutes

## Overview

Create a new Supabase project to serve as the database, authentication, and vector storage backend for DiveBuddy. Obtain project URL and API keys needed for Next.js integration.

## Pre-Step Checklist

- [ ] **Completed:** PR 1.1 - Next.js project setup
- [ ] **Account:** Supabase account created at <https://supabase.com>
- [ ] **Browser:** Logged into Supabase dashboard

## Implementation

### Goal

Create Supabase project and configure credentials in `.env.local`.

### Step-by-Step Instructions

#### Step 1: Create New Supabase Project

1. Visit <https://app.supabase.com>
2. Click **"New Project"**
3. Enter project details:
   - **Name:** `divebuddy`
   - **Database Password:** Generate strong password (save this securely!)
   - **Region:** Choose closest region (e.g., `Southeast Asia (Singapore)`)
   - **Pricing Plan:** Free tier
4. Click **"Create new project"**
5. Wait 2-3 minutes for project provisioning

#### Step 2: Obtain Project Credentials

Once project is ready:

1. Navigate to **Project Settings** (gear icon in sidebar)
2. Click **API** in the settings menu
3. Copy the following values:

   - **Project URL:** `https://xxxxx.supabase.co`
   - **anon public key:** `eyJhbG...` (long JWT token)
   - **service_role key:** `eyJhbG...` (different JWT token)

#### Step 3: Update Environment Variables

Open `.env.local` and update with your Supabase credentials:

```bash
# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

Replace with your actual values from Step 2.

#### Step 4: Verify Supabase Dashboard Access

- [ ] Navigate to **Table Editor** - Should show empty database
- [ ] Navigate to **SQL Editor** - Should be able to run queries
- [ ] Navigate to **Authentication** - Should show auth settings

## Verification Checklist

- [ ] Supabase project created and status shows "Active Healthy"
- [ ] `.env.local` contains `NEXT_PUBLIC_SUPABASE_URL`
- [ ] `.env.local` contains `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- [ ] `.env.local` contains `SUPABASE_SERVICE_ROLE_KEY`
- [ ] Can access Supabase dashboard and see project overview

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Project creation fails | Check email is verified; try different project name |
| Can't find API keys | Go to Project Settings > API, scroll down to "Project API keys" |
| Wrong region selected | Can't change after creation; delete project and recreate |
| Lost database password | Can reset in Project Settings > Database |

## Files Modified

- âœ… Modified: `.env.local` - Added Supabase credentials

## What Comes Next

Next step: **2.2-install-supabase-client.md** - Install Supabase client libraries
