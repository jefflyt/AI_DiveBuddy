# Step 1.1: Initialize Next.js Project

**Part of:** PR 1.1 - Next.js Project Setup & UI Framework
**Focus:** Create a Next.js project with TypeScript and essential dependencies
**Estimated Time:** 10-20 minutes

## Overview

Initialize a Next.js project (App Router) with TypeScript, ESLint, and Tailwind CSS. This file documents what was created in the `divebuddy-app/` folder during the 1.1 implementation and verifies the key artifacts.

## Pre-Step Checklist

- [ ] **Node.js:** Version 18.17 or higher installed (`node --version`) — please verify locally
- [x] **Git:** Repository initialized at `/Users/jefflee/SCTP/AI_DiveBuddy`
- [x] **Directory:** Working in project root (repository root contains `divebuddy-app/`)

**Verification note (2025-11-26):** I inspected the repository and verified the Next app files under `divebuddy-app/`. I installed helper dependencies, ran a production build, and started the dev server (used port `3001` in this session). I did not change your local Node installation; please run `node --version` locally to confirm runtime.

## Implementation

### Goal

Create a Next.js project in `divebuddy-app/` with TypeScript, Tailwind CSS, ESLint, and the App Router enabled.

### Step 1: Create Next.js Project

Run (from repository root or `divebuddy-app/`):

```bash
npx create-next-app@latest divebuddy-app --typescript --tailwind --eslint --app --src-dir --import-alias "@/*"
```

If you already generated the project directly in `divebuddy-app/`, skip the creation step and run `npm install` inside `divebuddy-app/`.

### Step 2: Install Additional Dependencies

Install UI helper libraries and dev types:

```bash
cd divebuddy-app
npm install class-variance-authority clsx tailwind-merge lucide-react react-markdown remark-gfm
npm install -D @types/node @types/react @types/react-dom
```

## Verification Checklist (repository state)

- [x] `divebuddy-app/package.json` exists and contains Next.js & TypeScript deps
- [x] `divebuddy-app/tsconfig.json` exists
- [x] `divebuddy-app/tailwind.config.cjs` exists
- [x] `divebuddy-app/src/app/layout.tsx` exists (root layout)
- [x] `divebuddy-app/src/app/page.tsx` exists (home page)
- [x] `npm run dev` was started during verification and the app served pages (dev server used port `3001` in this session)
- [x] Snapshots of `/` and `/chat` were saved to `plans/preview/` for review

Notes:

- The dev server in this session was started on port `3001`. To reproduce: run `./run.sh dev 3001` from the repo root or `npm run dev -- -p 3001` inside `divebuddy-app/`.
- I did not verify a specific Node version locally; please run `node --version` to confirm Node >= 18.17.

## Troubleshooting

| Issue | Solution |
|-------|----------|
| `create-next-app` not found | Use `npx create-next-app@latest` as shown above |
| TypeScript errors on first run | Run `cd divebuddy-app && npm install` to ensure dependencies are installed |
| Port already in use | Kill existing process: `lsof -ti:3000 \| xargs kill -9` or start on a different port: `npm run dev -- -p 3001` |

## Files Created / Verified

- ✅ `divebuddy-app/package.json` - Project dependencies
- ✅ `divebuddy-app/tsconfig.json` - TypeScript configuration
- ✅ `divebuddy-app/next.config.ts` - Next.js configuration
- ✅ `divebuddy-app/tailwind.config.cjs` - Tailwind CSS configuration (project uses `.cjs`)
- ✅ `divebuddy-app/src/app/layout.tsx` - Root layout
- ✅ `divebuddy-app/src/app/page.tsx` - Home page
- ✅ `divebuddy-app/.gitignore` - Git ignore rules
- ✅ `divebuddy-app/.env.example` - Environment template (non-sensitive)
- ✅ `run.sh` - Helper script at repo root

## What Comes Next

Next step: **1.2-setup-shadcn-ui.md** — Initialize shadcn/ui components and add shared UI utilities (the `cn` helper and base `src/components/ui/` components were added during implementation).
